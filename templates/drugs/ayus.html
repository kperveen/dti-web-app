{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Drug Target</title>
    <link rel="stylesheet" href="{% static 'CSS/style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Ranchers&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Big+Shoulders+Stencil+Text:wght@700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Alatsi&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nova+Square&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Farsan&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Libre+Barcode+128&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Libre+Barcode+39+Text&display=swap" rel="stylesheet">
{#    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>#}


    <script>
        $(document).ready(function () {
            $('select#ta').change(function () {
                var optionSelected = $(this).find("option:selected").text();
                ft = {{ drug_dictionary|safe }};
                document.getElementById('ia').innerHTML="";
                for (var key in ft[optionSelected]){
                    var newSelect = document.createElement('option');
                    var k = ft[optionSelected][key];
                    selectHTML = "<option value='"+ k + "'>" + k + "</option>";
                    newSelect.innerHTML = selectHTML;
                    document.getElementById('ia').add(newSelect);
                }
            });
        });
    </script>





</head>
<body>
<div class="main">
<div class="first">
        <div class="nme">
            <h4 class="namm">Hi, {{ user.first_name }}</h4>
        </div>
        <div class="btn-group" role="group" aria-label="Third group">
            <button id='headbut' type="button" class="btn btn-primary shadow-none" data-toggle="modal" data-target=".bd-example-modal-lg">ABOUT US</button>
        </div>
        <div class="break"></div>
        <div class="btn-group" role="group" aria-label="Third group">
            <button id='headbut' type="button" class="btn btn-primary shadow-none" data-toggle="modal" data-target="#exampleModalLong">FAQ'S</button>
        </div>
        <div class="break"></div>
        <div class="btn-group" role="group" aria-label="Third group">
            <a id='headbut'  class="btn btn-primary shadow-none" href="/logout" role="button">LOGOUT</a>
        </div>
    </div>
    <div>
        <div class="head2">
            <h1 class="title_name">Drogue Cibler</h1>
        </div>
    </div>


    <form method="post" class="fom" enctype="multipart/form-data">
        {% csrf_token %}
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="EGFR" name="checks">
                <label class="form-check-label" for="inlineCheckbox1">EGFR</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="IGF1R" name="checks">
                <label class="form-check-label" for="inlineCheckbox2">IGF1R</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="MIA-PaCa" name="checks">
                <label class="form-check-label" for="inlineCheckbox2">MIA-PaCa</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="mTOR" name="checks">
                <label class="form-check-label" for="inlineCheckbox2">mTOR</label>
            </div>

    <br>
    <br>
{#        <div class="form-floating">#}
{#          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" name="targett">#}
{#                {% if targets_list %}#}
{#                    {% if flagg == 0 %}#}
{#                        <option selected>Select a Target</option>#}
{#                    {% endif %}#}
{#                    {% for target in targets_list %}#}
{#                        <option value="{{ target }}">{{ target }}</option>#}
{#                    {% endfor %}#}
{#                {% else %}#}
{#                    <p>No Targets are available.</p>#}
{#                {% endif %}#}
{#          </select>#}
{#          <label for="floatingSelect">Targets</label>#}
{#        </div><br>#}
        <div class="form-floating">
          <select class="form-select" id="ta" aria-label="Floating label select example" name="therapeutic" required>
                {% if drug_dictionary %}
                    {% if flagg == 0 %}
                        <option selected>Select a Therapeutic area</option>
                    {% endif %}
                    {% for key in drug_dictionary %}
                        <option value="{{ key }}">{{ key }}</option>
                    {% endfor %}
                {% else %}
                    <p>No Models are available.</p>
                {% endif %}
          </select>
          <label for="floatingSelect">Therapeutic Area</label>
        </div><br>

        <div class="form-floating">
          <select class="form-select" id="ia" aria-label="Floating label select example" name="indication">
          </select>
          <label for="floatingSelect">Indication</label>
        </div><br>
        <div class="form-group">
            <input type="file" value="hello" name="uploadedFile" class="form-control-file" id="exampleFormControlFile1" required>
        </div>
        <br>
        <button type="submit" class="btn btn-primary">Predict</button>
    </form>

    {% if flagg != 0%}
        <h2 class="rssltmsg">The results are sent to you on the provided E-mail.</h2>
    {% else %}
        <h2 class="rssltmsg"></h2>
    {% endif %}


<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title" id="exampleModalLongTitle">FAQ's</h1>
      </div>
      <div class="modal-body">
        <ol>
            <li>
                <strong>
                    What are the targets that are shown in the section?
                </strong><br>
                    There are four targets EGFR, IGF1R, MIA-PaCa, mTOR which are used to
                    identify the probability for a compoundâ€™s active/inactive nature.
            </li><br>
            <li>
                <strong>
                    Can multiple targets be selected at the same time?
                </strong><br>
                    Yes, they can be selected.
            </li><br>
            <li>
                <strong>
                    What is the reason for using two different types of classification for obtaining the results?
                </strong><br>
                    To get accurate results and for comparison purposes, we have used two ways of classification.
            </li><br>
            <li>
                <strong>
                    Why is it taking so long to get the results?
                </strong><br>
                    Normally for a small list of compounds, it takes around 1 minute to generate results as
                    the model is running in the background. In case you have uploaded as input a file that has
                    many compounds, it might be delayed to produce the results.
            </li><br>
            <li>
                <strong>
                    Can the results be produced for large amounts of data?
                </strong><br>
                    Yes, you can enter your email address where the results would be received after the model
                    is done running in the background.
            </li><br>
            <li>
                <strong>
                    What is the correct format for uploading the input file?
                </strong><br>
                    A list of only the compounds as a csv format. You can find an example input file next
                    to the choose file button.
            </li><br>
            <li>
                <strong>
                    What if I do not want to enter my email address ?
                </strong><br>
                    Entering an email address is optional. If you want to receive the results in your mail,
                    it should be entered otherwise you can view the results directly.
            </li><br>
        </ol>
      </div>
    </div>
  </div>
</div>




<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" style="max-width: 90%; height: 90%" role="document">
    <div class="modal-content" style="height: 100%">
      <div class="modal-body" id="abyusbody">
          <div class="teams">
              <h2 class="myteam">FROM THE CREATORS</h2>
          </div>
          <p class="aboutsecc">In order to ensure rapid drug development, this project is useful in identifying
              the potential drug compounds for <strong>Pancreatic Cancer</strong> which can be classified as active/inactive for
              given four targets after knowing their probability. A higher probability above 80 indicates an
              active compound where as a lower probability below 20 indicates an inactive compound.<br>
              The results are predicted with the help of two models running in the background :<br>
              1. <strong>Binary Label Classification</strong> works by evaluating the probability through a single model for each target so there are four different models for four different targets.<br>
              2. <strong>Multi Label Classification</strong> works by evaluating the probability through a single model for all given targets i.e there is one model for all four targets.

          </p>

          <div class="photomain">
                <div class="photosec1">
                    <div class="picturesec">
                        <div class="photo1">
                            <img src="/drugs/Static/Pictures/anuragg.jpg">
                        </div>
                    </div>
                    <div class="namesec">
                        <h6 class="nam">ANURAG GUNTI</h6>
                        <div class="linkein">
                            <h4 class="namcode"><a href="https://www.linkedin.com/in/ayush-dadhich/" style="text-decoration: None">LINKEDIN</a></h4>
                        </div>
                    </div>
                </div>
                <div class="photosec2">
                    <div class="picturesec">
                        <div class="photo2">
                            <img src="/drugs/Static/Pictures/ayush.jpg">
                        </div>
                    </div>
                    <div class="namesec">
                        <h6 class="nam">AYUSH DADHICH</h6>
                        <div class="linkein">
                            <h4 class="namcode"><a href="https://www.linkedin.com/in/ayush-dadhich/" style="text-decoration: None">LINKEDIN</a></h4>
                        </div>

                    </div>
                </div>
                <div class="photosec3">
                    <div class="picturesec">
                        <div class="photo3">
                            <img src="/drugs/Static/Pictures/kausar_.png">
                        </div>
                    </div>
                    <div class="namesec">
                        <h6 class="nam">KAUSAR PERVEEN</h6>
                        <div class="linkein">
                            <h4 class="namcode"><a href="https://www.linkedin.com/in/ayush-dadhich/" style="text-decoration: None">LINKEDIN</a></h4>
                        </div>
                    </div>
                </div>
                <div class="photosec4">
                    <div class="picturesec">
                        <div class="photo2">
                            <img src="/drugs/Static/Pictures/yin.png">
                        </div>
                    </div>
                    <div class="namesec">
                        <h6 class="nam">YIN YANG</h6>
                        <div class="linkein">
                            <h4 class="namcode"><a href="https://www.linkedin.com/in/ayush-dadhich/" style="text-decoration: None">LINKEDIN</a></h4>
                        </div>
                    </div>
                </div>
            </div>
      </div>
    </div>
  </div>
</div>
</div>

</body>
</html>